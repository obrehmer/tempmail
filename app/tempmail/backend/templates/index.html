<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="index, follow">
  <meta name="description" content="Get a free disposable temporary email address valid for 2 minutes. Instantly receive emails without signing up.">
  <meta name="keywords" content="temporary email, disposable email, 2-minute mail, free email, no signup, temp inbox">
  <meta name="author" content="2-minute mail">
  <title>2-minute mail - Free Disposable Temporary Email</title>
  <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="/static/css/retro-mac.css">
</head>
<body>
  <div class="container">
    <!-- Main header with email address -->
    <h1>Your temporary email address</h1>
    
    <p style="max-width: 600px;">
      This is a disposable, temporary email address intended for spam protection and one-time use only.
      <strong>You can only receive emails</strong> â€” sending is not supported.
      Messages are <strong>not stored permanently</strong> and will be deleted after 2 minutes.
      Use it to protect your personal inbox from spam or sign up anonymously.
    </p>

    <!-- Display the email address -->
    <p>
      <strong>{{ email }}</strong><br>
      {% if remaining_minutes <= 0 and remaining_seconds <= 0 %}
        <strong>The email address has expired. A new one has been created.</strong>
      {% else %}
        <p>This email address is only valid for 2 minutes. Remaining time: <span id="countdown-timer"></span></p>
      {% endif %}
    </p>

    <!-- Refresh inbox button -->
    <button onclick="location.reload()">ðŸ”„ Refresh inbox</button>

    <!-- Inbox Section -->
    <h2>Inbox</h2>
    <ul>
      {% for mail in emails %}
        <li class="tile">
          <strong>From: {{ mail.from }}</strong><br>
          <a href="{{ url_for('view_email', email_id=email_id, filename=mail['filename']) }}">
            {{ mail.subject }}
          </a>
        </li>
      {% else %}
        <li class="tile">No messages.</li>
      {% endfor %}
    </ul>
  </div>

  <!-- Include the countdown timer logic from the external JavaScript file -->
  <script>
    window.remainingTime = {{ session['remaining_time'] | default(0) }};
  </script>
  <script src="/static/js/timer.js"></script>
</body>
</html>

